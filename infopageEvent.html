<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <title>ì¹´í˜ ìƒì„¸ ì •ë³´</title>
    <style>
        body,
        html {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
        }

        .navbar {
            background-color: #e6ebd7;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px 30px;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .dropdown {
            display: none;
            position: fixed;
            background-color: white;
            border: 1px solid #ccc;
            border-radius: 10px;
            width: 160px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            z-index: 200;
        }

        .dropdown a {
            display: block;
            padding: 10px;
            text-decoration: none;
            color: #333;
        }

        .dropdown a:hover {
            background-color: #f0f0f0;
        }

        .logo {
            font-family: 'Pretendard', sans-serif;
            font-size: 18px;
            font-weight: bold;
            background-color: #ffecc3;
            padding: 5px 10px;
            border: 1px solid #333;
        }

        .nav-links a {
            margin: 0 10px;
            text-decoration: none;
            color: #333;
            font-weight: 500;
        }

        .search-container input[type="text"] {
            padding: 13px;
            border-radius: 15px;
            border: 1px solid #aaa;
            cursor: pointer;
            width: 160px;
        }

        .login_link a {
            text-decoration: none;
            color: black;
            font-size: 20px;
        }

        .top-bar {
            width: 80%;
            margin: 40px auto 20px auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .buttons {
            display: flex;
            gap: 15px;
        }

        .button-icon {
            display: flex;
            align-items: center;
            cursor: pointer;
            font-size: 14px;
            color: #333;
        }

        .button-icon svg {
            width: 18px;
            height: 18px;
            margin-right: 5px;
            fill: #333;
        }

        .button-icon:hover svg,
        .button-icon:hover {
            color: red;
            fill: red;
        }

        .container {
            display: flex;
            width: 80%;
            margin: auto;
            gap: 10px;
            align-items: flex-start;
            margin-bottom: 35px;
        }

        .main img {
            width: 530px;
            height: 400px;
            border-radius: 20px;
            object-fit: cover;
            display: block;
        }

        .subs {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .subs img {
            width: 265px;
            height: 198px;
            border-radius: 20px;
            object-fit: cover;
            display: block;
        }

        #cafeInfo {
            width: 80%;
            margin: auto;
            padding: 10px 0;
            line-height: 1.6;
        }
    </style>
</head>

<body>
    <header class="navbar">
        <div class="logo">Do Find Coffee !</div>
        <nav class="nav-links">
            <a href="index.html">Home</a>
            <a href="#" id="categoryMenu" onclick="toggleDropdown(event, this)">Category</a>
            <a href="Bookmark.html">Bookmark</a>
        </nav>
        <div class="search-container">
            <input type="text" id="searchBox" placeholder="ì¹´í…Œê³ ë¦¬ ê²€ìƒ‰" readonly onclick="toggleDropdown(event, this)" />
        </div>
        <div class="dropdown" id="dropdown">
            <a href="category.html?type=pet">ë°˜ë ¤ë™ë¬¼ ë™ë°˜</a>
            <a href="category2.html?type=ocean">ì˜¤ì…˜ë·°</a>
            <a href="category3.html?type=study">ì¹´ê³µí•˜ê¸° ì¢‹ì€</a>
            <a href="category4.html?type=takeout">í…Œì´í¬ì•„ì›ƒ ì „ë¬¸</a>
            <a href="category5.html?type=sensibility">ê°ì„±</a>
            <a href="category6.html?type=brunch">ë¸ŒëŸ°ì¹˜</a>
        </div>
        <div class="login_link">
            <a href="login.html">Login</a>
        </div>
    </header>

    <div class="top-bar">
        <h2 id="cafeTitle">ì¹´í˜ ì´ë¦„</h2>
        <div class="buttons">
            <div class="button-icon">
                <!-- ê³µìœ í•˜ê¸° -->
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path
                        d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.03-.47-.09-.7l7.02-4.11c.54.5 1.24.81 2.07.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.07 9.81C7.53 9.31 6.83 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.83 0 1.53-.31 2.07-.81l7.12 4.17c-.05.21-.09.43-.09.64 0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-2.92-3-2.92z" />
                </svg>
                ê³µìœ í•˜ê¸°
            </div>
            <a href="#" class="button-icon" onclick="saveBookmark()">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 
            2 5.42 4.42 3 7.5 3c1.74 0 3.41 0.81 4.5 
            2.09C13.09 3.81 14.76 3 16.5 
            3 19.58 3 22 5.42 22 8.5c0 
            3.78-3.4 6.86-8.55 11.54L12 
            21.35z" />
                </svg>
                ì €ì¥
            </a>
        </div>
    </div>

    <div class="container">
        <div class="main">
            <img id="mainImage" />
        </div>
        <div class="subs" id="subImages"></div>
    </div>

    <div id="cafeInfo"></div>

    <script>
         document.addEventListener('DOMContentLoaded', function () {
    const loginLink = document.querySelector('.login_link');

    // ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸
    if (sessionStorage.getItem('isLoggedIn') === 'true') {
      loginLink.innerHTML = '<a href="#" id="logoutBtn"><font size=3>Logout</font></a>';
    }

    // ë¡œê·¸ì•„ì›ƒ ì²˜ë¦¬
    loginLink.addEventListener('click', function (e) {
      if (e.target && e.target.id === 'logoutBtn') {
        e.preventDefault();
        sessionStorage.removeItem('isLoggedIn');
        window.location.reload(); // ë¡œê·¸ì•„ì›ƒ í›„ í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨
      }
    });
  });
  document.addEventListener('DOMContentLoaded', function () {
  const loginLink = document.querySelector('.login_link a');

  // ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸
  const isLoggedIn = sessionStorage.getItem('isLoggedIn') === 'true';
  if (isLoggedIn) {
    loginLink.textContent = 'Logout';
    loginLink.addEventListener('click', function (e) {
      e.preventDefault(); // ë§í¬ ì´ë™ ë§‰ê³ 
      if (confirm('ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
        sessionStorage.removeItem('isLoggedIn');
        alert('ë¡œê·¸ì•„ì›ƒ ë˜ì—ˆìŠµë‹ˆë‹¤.');
        window.location.href = 'index.html'; // ë˜ëŠ” login.html
      }
    });
  }
});
        function toggleDropdown(event, element) {
            event.preventDefault();
            const dropdown = document.getElementById("dropdown");
            const rect = element.getBoundingClientRect();
            dropdown.style.left = rect.left + "px";
            dropdown.style.top = rect.bottom + "px";
            dropdown.style.display = (dropdown.style.display === "block") ? "none" : "block";
        }

        window.onclick = function (event) {
            const dropdown = document.getElementById("dropdown");
            if (!event.target.matches('#categoryMenu') && !event.target.matches('#searchBox')) {
                dropdown.style.display = "none";
            }
        }

        document.getElementById('dropdown').addEventListener('mouseleave', function () {
            this.style.display = 'none';
        });

        function saveBookmark() {
            const cafe = {
                id: cafeId,
                name: template.name,
                img: template.images.main,
                description: template.infoHTML
            };
            let bookmarks = JSON.parse(localStorage.getItem('bookmarks')) || [];
            if (!bookmarks.some(item => item.id === cafe.id)) {
                bookmarks.push(cafe);
                localStorage.setItem('bookmarks', JSON.stringify(bookmarks));
                alert('ì¦ê²¨ì°¾ê¸°ì— ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!');
            } else {
                alert('ì´ë¯¸ ì¦ê²¨ì°¾ê¸°ì— ì¶”ê°€ëœ ì¹´í˜ì…ë‹ˆë‹¤.');
            }
        }

        const cafeTemplates = {
            cafe01: {
                name: "ì˜¤ë¸Œë ˆë©˜",
                images: {
                    main: "image/ì˜¤ë¸Œë ˆë©˜.jpeg",
                    subs: ["image/ì˜¤ë¸Œë ˆë©˜.jpeg"]
                },
                infoHTML: `
          <p><b>ìš´ì˜ì‹œê°„:</b> ë§¤ì¼ 10:00 ~ 22:00</p>
          <p><b>ëŒ€í‘œ ë©”ë‰´:</b> ë°”ë‹ë¼ ë¼ë–¼, ìˆ˜ì œ ì¼€ì´í¬</p>
          <p><b>íŠ¹ì§•:</b> ì¡°ìš©í•œ ë¶„ìœ„ê¸°, í ìŠ¤íƒ€ì¼ ì¸í…Œë¦¬ì–´</p>
          <p><b>ìœ„ì¹˜:</b> ì„œìš¸ ê°•ë‚¨êµ¬ ì—­ì‚¼ë¡œ 123</p>
          <p><b>SNS:</b> @coffee_bariz</p>
        `
            },
            cafe02: {
                name: "ê·¸ë ˆê·¸",
                images: {
                    main: "image/ê·¸ë ˆê·¸.jpeg",
                    subs: ["image/ê·¸ë ˆê·¸.jpeg"] //ì‚¬ì§„ì„ ë” ë„£ê³  ì‹¶ì€ì‹œë©´ ','ë¡œ ì˜†ì— ì¶”ê°€í•˜ì‹œë©´ ì •ë ¬ë©ë‹ˆë‹¤.
                },
                infoHTML: `
          <p><b>ìš´ì˜ì‹œê°„:</b> ë§¤ì¼ 09:00 ~ 21:00</p>
          <p><b>ëŒ€í‘œ ë©”ë‰´:</b> í”Œë«í™”ì´íŠ¸, ë‹¹ê·¼ì¼€ì´í¬</p>
          <p><b>íŠ¹ì§•:</b> ê³ ì¦ˆë„‰í•œ ë¶„ìœ„ê¸°, ë°˜ë ¤ë™ë¬¼ ë™ë°˜ ê°€ëŠ¥</p>
          <p><b>ìœ„ì¹˜:</b> ì„œìš¸ ë§ˆí¬êµ¬ ì—°ë‚¨ë™</p>
          <p><b>SNS:</b> @with.holiday</p>
        `
            }
            // ğŸ‘‰ ì¶”ê°€ ì¹´í˜ëŠ” ì—¬ê¸°ì— ê³„ì† ë„£ìœ¼ì„¸ìš”. ìœ„ì— ê²ƒê³¼ ë˜‘ê°™ì€ í˜•ì‹ìœ¼ë¡œ í•˜ì‹œë©´ ë©ë‹ˆë‹¤! 
        };

        const urlParams = new URLSearchParams(window.location.search);
        const cafeId = urlParams.get("cafe");
        const template = cafeTemplates[cafeId];

        if (template) {
            document.getElementById("cafeTitle").textContent = template.name;
            document.getElementById("mainImage").src = template.images.main;

            const subsContainer = document.getElementById("subImages");
            template.images.subs.forEach(src => {
                const img = document.createElement("img");
                img.src = src;
                subsContainer.appendChild(img);
            });

            document.getElementById("cafeInfo").innerHTML = template.infoHTML;
        } else {
            document.body.innerHTML = "<p style='text-align:center; padding:50px;'>í•´ë‹¹ ì¹´í˜ ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>";
        }
    </script>
</body>

</html>