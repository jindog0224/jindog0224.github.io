<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <title>카페 상세 정보</title>
    <style>
        body,
        html {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
        }

        .navbar {
            background-color: #e6ebd7;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px 30px;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .dropdown {
            display: none;
            position: fixed;
            background-color: white;
            border: 1px solid #ccc;
            border-radius: 10px;
            width: 160px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            z-index: 200;
        }

        .dropdown a {
            display: block;
            padding: 10px;
            text-decoration: none;
            color: #333;
        }

        .dropdown a:hover {
            background-color: #f0f0f0;
        }

        .logo {
            font-family: 'Pretendard', sans-serif;
            font-size: 18px;
            font-weight: bold;
            background-color: #ffecc3;
            padding: 5px 10px;
            border: 1px solid #333;
        }

        .nav-links a {
            margin: 0 10px;
            text-decoration: none;
            color: #333;
            font-weight: 500;
        }

        .search-container input[type="text"] {
            padding: 13px;
            border-radius: 15px;
            border: 1px solid #aaa;
            cursor: pointer;
            width: 160px;
        }

        .login_link a {
            text-decoration: none;
            color: black;
            font-size: 20px;
        }

        .top-bar {
            width: 80%;
            margin: 40px auto 20px auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .buttons {
            display: flex;
            gap: 15px;
        }

        .button-icon {
            display: flex;
            align-items: center;
            cursor: pointer;
            font-size: 14px;
            color: #333;
        }

        .button-icon svg {
            width: 18px;
            height: 18px;
            margin-right: 5px;
            fill: #333;
        }

        .button-icon:hover svg,
        .button-icon:hover {
            color: red;
            fill: red;
        }

        .container {
            display: flex;
            width: 80%;
            margin: auto;
            gap: 10px;
            align-items: flex-start;
            margin-bottom: 35px;
        }

        .main img {
            width: 530px;
            height: 400px;
            border-radius: 20px;
            object-fit: cover;
            display: block;
        }

        .subs {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .subs img {
            width: 265px;
            height: 198px;
            border-radius: 20px;
            object-fit: cover;
            display: block;
        }

        #cafeInfo {
            width: 80%;
            margin: auto;
            padding: 10px 0;
            line-height: 1.6;
        }
    </style>
</head>

<body>
    <header class="navbar">
        <div class="logo">Do Find Coffee !</div>
        <nav class="nav-links">
            <a href="index.html">Home</a>
            <a href="#" id="categoryMenu" onclick="toggleDropdown(event, this)">Category</a>
            <a href="Bookmark.html">Bookmark</a>
        </nav>
        <div class="search-container">
            <input type="text" id="searchBox" placeholder="카테고리 검색" readonly onclick="toggleDropdown(event, this)" />
        </div>
        <div class="dropdown" id="dropdown">
            <a href="category.html?type=pet">반려동물 동반</a>
            <a href="category2.html?type=ocean">오션뷰</a>
            <a href="category3.html?type=study">카공하기 좋은</a>
            <a href="category4.html?type=takeout">테이크아웃 전문</a>
            <a href="category5.html?type=sensibility">감성</a>
            <a href="category6.html?type=brunch">브런치</a>
        </div>
        <div class="login_link">
            <a href="login.html">Login</a>
        </div>
    </header>

    <div class="top-bar">
        <h2 id="cafeTitle">카페 이름</h2>
        <div class="buttons">
            <div class="button-icon">
                <!-- 공유하기 -->
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path
                        d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.03-.47-.09-.7l7.02-4.11c.54.5 1.24.81 2.07.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.07 9.81C7.53 9.31 6.83 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.83 0 1.53-.31 2.07-.81l7.12 4.17c-.05.21-.09.43-.09.64 0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-2.92-3-2.92z" />
                </svg>
                공유하기
            </div>
            <a href="#" class="button-icon" onclick="saveBookmark()">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 
            2 5.42 4.42 3 7.5 3c1.74 0 3.41 0.81 4.5 
            2.09C13.09 3.81 14.76 3 16.5 
            3 19.58 3 22 5.42 22 8.5c0 
            3.78-3.4 6.86-8.55 11.54L12 
            21.35z" />
                </svg>
                저장
            </a>
        </div>
    </div>

    <div class="container">
        <div class="main">
            <img id="mainImage" />
        </div>
        <div class="subs" id="subImages"></div>
    </div>

    <div id="cafeInfo"></div>

    <script>
         document.addEventListener('DOMContentLoaded', function () {
    const loginLink = document.querySelector('.login_link');

    // 로그인 상태 확인
    if (sessionStorage.getItem('isLoggedIn') === 'true') {
      loginLink.innerHTML = '<a href="#" id="logoutBtn"><font size=3>Logout</font></a>';
    }

    // 로그아웃 처리
    loginLink.addEventListener('click', function (e) {
      if (e.target && e.target.id === 'logoutBtn') {
        e.preventDefault();
        sessionStorage.removeItem('isLoggedIn');
        window.location.reload(); // 로그아웃 후 페이지 새로고침
      }
    });
  });
  document.addEventListener('DOMContentLoaded', function () {
  const loginLink = document.querySelector('.login_link a');

  // 로그인 상태 확인
  const isLoggedIn = sessionStorage.getItem('isLoggedIn') === 'true';
  if (isLoggedIn) {
    loginLink.textContent = 'Logout';
    loginLink.addEventListener('click', function (e) {
      e.preventDefault(); // 링크 이동 막고
      if (confirm('로그아웃 하시겠습니까?')) {
        sessionStorage.removeItem('isLoggedIn');
        alert('로그아웃 되었습니다.');
        window.location.href = 'index.html'; // 또는 login.html
      }
    });
  }
});
        function toggleDropdown(event, element) {
            event.preventDefault();
            const dropdown = document.getElementById("dropdown");
            const rect = element.getBoundingClientRect();
            dropdown.style.left = rect.left + "px";
            dropdown.style.top = rect.bottom + "px";
            dropdown.style.display = (dropdown.style.display === "block") ? "none" : "block";
        }

        window.onclick = function (event) {
            const dropdown = document.getElementById("dropdown");
            if (!event.target.matches('#categoryMenu') && !event.target.matches('#searchBox')) {
                dropdown.style.display = "none";
            }
        }

        document.getElementById('dropdown').addEventListener('mouseleave', function () {
            this.style.display = 'none';
        });

        function saveBookmark() {
            const cafe = {
                id: cafeId,
                name: template.name,
                img: template.images.main,
                description: template.infoHTML
            };
            let bookmarks = JSON.parse(localStorage.getItem('bookmarks')) || [];
            if (!bookmarks.some(item => item.id === cafe.id)) {
                bookmarks.push(cafe);
                localStorage.setItem('bookmarks', JSON.stringify(bookmarks));
                alert('즐겨찾기에 저장되었습니다!');
            } else {
                alert('이미 즐겨찾기에 추가된 카페입니다.');
            }
        }

        const cafeTemplates = {
            cafe01: {
                name: "오브레멘",
                images: {
                    main: "image/오브레멘.jpeg",
                    subs: ["image/오브레멘.jpeg"]
                },
                infoHTML: `
          <p><b>운영시간:</b> 매일 10:00 ~ 22:00</p>
          <p><b>대표 메뉴:</b> 바닐라 라떼, 수제 케이크</p>
          <p><b>특징:</b> 조용한 분위기, 펍 스타일 인테리어</p>
          <p><b>위치:</b> 서울 강남구 역삼로 123</p>
          <p><b>SNS:</b> @coffee_bariz</p>
        `
            },
            cafe02: {
                name: "그레그",
                images: {
                    main: "image/그레그.jpeg",
                    subs: ["image/그레그.jpeg"] //사진을 더 넣고 싶은시면 ','로 옆에 추가하시면 정렬됩니다.
                },
                infoHTML: `
          <p><b>운영시간:</b> 매일 09:00 ~ 21:00</p>
          <p><b>대표 메뉴:</b> 플랫화이트, 당근케이크</p>
          <p><b>특징:</b> 고즈넉한 분위기, 반려동물 동반 가능</p>
          <p><b>위치:</b> 서울 마포구 연남동</p>
          <p><b>SNS:</b> @with.holiday</p>
        `
            }
            // 👉 추가 카페는 여기에 계속 넣으세요. 위에 것과 똑같은 형식으로 하시면 됩니다! 
        };

        const urlParams = new URLSearchParams(window.location.search);
        const cafeId = urlParams.get("cafe");
        const template = cafeTemplates[cafeId];

        if (template) {
            document.getElementById("cafeTitle").textContent = template.name;
            document.getElementById("mainImage").src = template.images.main;

            const subsContainer = document.getElementById("subImages");
            template.images.subs.forEach(src => {
                const img = document.createElement("img");
                img.src = src;
                subsContainer.appendChild(img);
            });

            document.getElementById("cafeInfo").innerHTML = template.infoHTML;
        } else {
            document.body.innerHTML = "<p style='text-align:center; padding:50px;'>해당 카페 정보를 찾을 수 없습니다.</p>";
        }
    </script>
</body>

</html>